(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7205f1cc"],{"355f":function(t,i,e){t.exports=e.p+"img/slide-2.d358243b.jpg"},"44bc":function(t,i,e){"use strict";var s=e("7b1b");e.n(s).a},5492:function(t,i,e){t.exports=e.p+"img/slide-3.80666881.jpg"},"69a7":function(t,i,e){t.exports=e.p+"img/slide-0.6e5db33c.jpg"},"71c4":function(t,i,e){t.exports=e.p+"img/slide-1.a976180d.jpg"},"77a8":function(t,i,e){"use strict";var s=e("dea6");e.n(s).a},"7b1b":function(t,i,e){},"9ed6":function(t,i,e){"use strict";e.r(i);var s={data:function(){return{notifyObj:null,text:"向右滑动",showSlide:!1,ruleForm:{account:"zml",passwd:"a111111"},rules:{user:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:15,message:"长度在3到5个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},mounted:function(){this.shopTip()},methods:{onSuccess:function(){this.showSlide=!1,this.$message.success("验证成功"),this._login()},onFail:function(){this.$message.error("验证失败")},refresh:function(){this.$refs.slideDiv.reset()},loginYz:function(t){var i=this;this.$refs[t].validate((function(t){t&&i._login()}))},_login:function(){var t=this;this.$store.dispatch("user/_login",this.ruleForm).then((function(i){"200"==!i.code?t.refresh():(console.log(t.$route.query.route),t.$router.push("/"),t.notifyObj&&t.notifyObj.close(),t.notifyObj=null)})).catch((function(i){t.refresh(),t.$message.error(i)}))},shopTip:function(){this.notifyObj=this.$notify({title:"提示",message:"当前登录界面为企业人员登录界面",duration:0,iconClass:"el-icon-s-opportunity"})}},components:{SlideVerify:e("bf84").a}},n=(e("ebd3"),e("77a8"),e("2877")),r=Object(n.a)(s,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"login"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showSlide,expression:"showSlide"}],staticClass:"slideShadow"},[e("transition",[e("div",{staticClass:"slideSty animated bounce"},[e("slide-verify",{ref:"slideDiv",attrs:{sliderText:t.text,w:350,h:175},on:{success:t.onSuccess,fail:t.onFail}}),e("div",{staticClass:"iconBtn"},[e("i",{staticClass:"el-icon-circle-close",on:{click:function(i){t.showSlide=!1}}}),e("i",{staticClass:"el-icon-refresh",on:{click:t.refresh}})])],1)])],1),e("div",{staticClass:"loginBox"},[t._m(0),e("div",{staticClass:"loginCon"},[t._m(1),e("el-form",{ref:"loginForm",attrs:{rules:t.rules,model:t.ruleForm}},[e("el-form-item",{attrs:{prop:"account"}},[e("el-input",{attrs:{placeholder:"请输入账号","prefix-icon":"el-icon-user"},model:{value:t.ruleForm.account,callback:function(i){t.$set(t.ruleForm,"account",i)},expression:"ruleForm.account"}})],1),e("el-form-item",{attrs:{prop:"passwd"}},[e("el-input",{attrs:{placeholder:"请输入密码","prefix-icon":"el-icon-lock","show-password":""},model:{value:t.ruleForm.passwd,callback:function(i){t.$set(t.ruleForm,"passwd",i)},expression:"ruleForm.passwd"}})],1),e("el-button",{staticClass:"loginBtn",attrs:{type:"primary"},on:{click:function(i){return t.loginYz("loginForm")}}},[t._v("登录")])],1)],1)])])}),[function(){var t=this.$createElement,i=this._self._c||t;return i("h2",{staticClass:"loginH2"},[i("strong",[this._v("Vue")]),this._v(" 云饭堂后台管理系统")])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"titleDiv"},[i("h3",[this._v("Sign up now")]),i("p",[this._v("Enter your username and password to log on:")]),i("i",{staticClass:"el-icon-key"})])}],!1,null,"507a76cb",null);i.default=r.exports},a8fb:function(t,i,e){var s={"./slide-0.jpg":"69a7","./slide-1.jpg":"71c4","./slide-2.jpg":"355f","./slide-3.jpg":"5492","./slide-4.jpg":"c017"};function n(t){var i=r(t);return e(i)}function r(t){if(!e.o(s,t)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=r,t.exports=n,n.id="a8fb"},bf84:function(t,i,e){"use strict";var s=Math.PI;function n(t,i){return t+i}function r(t){return t*t}var o={name:"SlideVerify",props:{l:{type:Number,default:42},r:{type:Number,default:10},w:{type:Number,default:310},h:{type:Number,default:155},sliderText:{type:String,default:"Slide filled right"}},data:function(){return{containerActive:!1,containerSuccess:!1,containerFail:!1,canvasCtx:null,blockCtx:null,block:null,block_x:void 0,block_y:void 0,L:this.l+2*this.r+3,img:void 0,originX:void 0,originY:void 0,isMouseDown:!1,trail:[],sliderLeft:0,sliderMaskWidth:0}},mounted:function(){this.init()},methods:{init:function(){this.initDom(),this.initImg(),this.bindEvents()},initDom:function(){this.block=this.$refs.block,this.canvasCtx=this.$refs.canvas.getContext("2d"),this.blockCtx=this.block.getContext("2d")},initImg:function(){var t=this,i=this.createImg((function(){t.drawBlock(),t.canvasCtx.drawImage(i,0,0,t.w,t.h),t.blockCtx.drawImage(i,0,0,t.w,t.h);var e=t.block_x,s=t.block_y,n=t.r,r=t.L,o=s-2*n-1,c=t.blockCtx.getImageData(e,o,r,r);t.block.width=r,t.blockCtx.putImageData(c,0,o)}));this.img=i},drawBlock:function(){this.block_x=this.getRandomNumberByRange(this.L+10,this.w-(this.L+10)),this.block_y=this.getRandomNumberByRange(10+2*this.r,this.h-(this.L+10)),this.draw(this.canvasCtx,this.block_x,this.block_y,"fill"),this.draw(this.blockCtx,this.block_x,this.block_y,"clip")},draw:function(t,i,e,n){var r=this.l,o=this.r;t.beginPath(),t.moveTo(i,e),t.arc(i+r/2,e-o+2,o,.72*s,2.26*s),t.lineTo(i+r,e),t.arc(i+r+o-2,e+r/2,o,1.21*s,2.78*s),t.lineTo(i+r,e+r),t.lineTo(i,e+r),t.arc(i+o-2,e+r/2,o+.4,2.76*s,1.24*s,!0),t.lineTo(i,e),t.lineWidth=2,t.fillStyle="rgba(255, 255, 255, 0.7)",t.strokeStyle="rgba(255, 255, 255, 0.7)",t.stroke(),t[n](),t.globalCompositeOperation="overlay"},createImg:function(t){var i=this,e=document.createElement("img");return e.crossOrigin="Anonymous",e.onload=t,e.onerror=function(){e.src=i.getRandomImg()},e.src=this.getRandomImg(),e},getRandomImg:function(){return e("a8fb")("./slide-".concat(this.getRandomNumberByRange(0,4),".jpg"))},getRandomNumberByRange:function(t,i){return Math.round(Math.random()*(i-t)+t)},refresh:function(){this.reset(),this.$emit("refresh")},sliderDown:function(t){this.originX=t.clientX,this.originY=t.clientY,this.isMouseDown=!0},touchStartEvent:function(t){this.originX=t.changedTouches[0].pageX,this.originY=t.changedTouches[0].pageY,this.isMouseDown=!0},bindEvents:function(){var t=this;document.addEventListener("mousemove",(function(i){if(!t.isMouseDown)return!1;var e=i.clientX-t.originX,s=i.clientY-t.originY;if(e<0||e+38>=t.w)return!1;t.sliderLeft=e+"px";var n=(t.w-40-20)/(t.w-40)*e;t.block.style.left=n+"px",t.containerActive=!0,t.sliderMaskWidth=e+"px",t.trail.push(s)})),document.addEventListener("mouseup",(function(i){if(!t.isMouseDown)return!1;if(t.isMouseDown=!1,i.clientX===t.originX)return!1;t.containerActive=!1;var e=t.verify(),s=e.spliced,n=e.TuringTest;s?n?(t.containerSuccess=!0,t.$emit("success")):(t.containerFail=!0,t.sliderText="try again",t.reset()):(t.containerFail=!0,t.$emit("fail"),setTimeout((function(){t.reset()}),1e3))}))},touchMoveEvent:function(t){if(!this.isMouseDown)return!1;var i=t.changedTouches[0].pageX-this.originX,e=t.changedTouches[0].pageY-this.originY;if(i<0||i+38>=this.w)return!1;this.sliderLeft=i+"px";var s=(this.w-40-20)/(this.w-40)*i;this.block.style.left=s+"px",this.containerActive=!0,this.sliderMaskWidth=i+"px",this.trail.push(e)},touchEndEvent:function(t){var i=this;if(!this.isMouseDown)return!1;if(this.isMouseDown=!1,t.changedTouches[0].pageX===this.originX)return!1;this.containerActive=!1;var e=this.verify(),s=e.spliced,n=e.TuringTest;s?n?(this.containerSuccess=!0,this.$emit("success")):(this.containerFail=!0,this.sliderText="try again",this.reset()):(this.containerFail=!0,this.$emit("fail"),setTimeout((function(){i.reset()}),1e3))},verify:function(){var t=this.trail,i=t.reduce(n)/t.length,e=t.map((function(t){return t-i})),s=Math.sqrt(e.map(r).reduce(n)/t.length),o=parseInt(this.block.style.left);return{spliced:Math.abs(o-this.block_x)<10,TuringTest:i!==s}},reset:function(){this.containerActive=!1,this.containerSuccess=!1,this.containerFail=!1,this.sliderLeft=0,this.block.style.left=0,this.sliderMaskWidth=0;var t=this.w,i=this.h;this.canvasCtx.clearRect(0,0,t,i),this.blockCtx.clearRect(0,0,t,i),this.block.width=t,this.img.src=this.getRandomImg()}}},c=(e("44bc"),e("2877")),a=Object(c.a)(o,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"slide-verify",attrs:{id:"slideVerify",onselectstart:"return false;"}},[e("canvas",{ref:"canvas",attrs:{width:t.w,height:t.h}}),e("div",{staticClass:"slide-verify-refresh-icon",on:{click:t.refresh}}),e("canvas",{ref:"block",staticClass:"slide-verify-block",attrs:{width:t.w,height:t.h}}),e("div",{staticClass:"slide-verify-slider",class:{"container-active":t.containerActive,"container-success":t.containerSuccess,"container-fail":t.containerFail}},[e("div",{staticClass:"slide-verify-slider-mask",style:{width:t.sliderMaskWidth}},[e("div",{staticClass:"slide-verify-slider-mask-item",style:{left:t.sliderLeft},on:{mousedown:t.sliderDown,touchstart:t.touchStartEvent,touchmove:t.touchMoveEvent,touchend:t.touchEndEvent}},[e("i",{staticClass:"el-icon-arrow-right"})])]),e("span",{staticClass:"slide-verify-slider-text"},[t._v(t._s(t.sliderText))])])])}),[],!1,null,"2c8f8447",null);i.a=a.exports},c017:function(t,i,e){t.exports=e.p+"img/slide-4.69bbd474.jpg"},d7bd:function(t,i,e){},dea6:function(t,i,e){},ebd3:function(t,i,e){"use strict";var s=e("d7bd");e.n(s).a}}]);