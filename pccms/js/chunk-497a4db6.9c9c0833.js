(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-497a4db6"],{"2f0c":function(t,e,a){"use strict";var r=a("7361");a.n(r).a},"333d":function(t,e,a){"use strict";var r={name:"Pagination",props:{small:{type:Boolean,default:!1},total:{required:!0,type:Number},page:{type:Number,default:1},background:{type:Boolean,default:!0},layout:{type:String,default:"prev, pager, next"},pageSize:{type:Number,default:10}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}}},methods:{handleClickPage:function(t){this.$emit("pagination",t)}}},n=(a("2f0c"),a("2877")),o=Object(n.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{small:t.small,background:t.background,total:t.total,layout:t.layout,"page-size":t.pageSize,"current-page":t.currentPage},on:{"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.handleClickPage}})],1)}),[],!1,null,null,null);e.a=o.exports},7361:function(t,e,a){},"8a1c":function(t,e,a){},ba8f:function(t,e,a){"use strict";a.r(e);var r,n=a("a34a"),o=a.n(n),i=a("365c"),c=a("575f"),s=a("333d"),l=a("4360");function u(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function p(t,e,a,r,n,o,i){try{var c=t[o](i),s=c.value}catch(t){return void a(t)}c.done?e(s):Promise.resolve(s).then(r,n)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(r,n){var o=t.apply(e,a);function i(t){p(o,r,n,i,c,"next",t)}function c(t){p(o,r,n,i,c,"throw",t)}i(void 0)}))}}var m,f,g,y,h,b={components:{Pagination:s.a},data:function(){return{grade:l.a.getters.grade,loading:!1,categoryOptions:[],productOptions:[],queryform:{},tableData:[],total:0,current_page:1,size:10}},computed:{},created:function(){this.getCategoryOptions(),this.getProductsId()},methods:(r={getCategoryOptions:(h=d(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("http://canteen.tonglingok.com/api/v1/company/categories");case 2:"ok"===(e=t.sent).msg&&(this.categoryOptions=Object(c.d)(Array.from(e.data)));case 4:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)}),getProductsId:(y=d(o.a.mark((function t(e){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("http://canteen.tonglingok.com/api/v1/shop/supplier/products?category_id=".concat(e,"&page=1&size=1000"));case 2:a=t.sent,console.log(a);case 4:case"end":return t.stop()}}),t)}))),function(t){return y.apply(this,arguments)}),fetchList:(g=d(o.a.mark((function t(e){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=e||1,t.next=3,i.a.get("http://canteen.tonglingok.com/api/v1/shop/order/statistic/supplier?page=".concat(e,"&size=").concat(this.size),this.queryform);case 3:"ok"===(a=t.sent).msg&&(this.tableData=Array.from(a.data.data),this.total=a.data.total,this.current_page=a.data.current_page);case 5:case"end":return t.stop()}}),t,this)}))),function(t){return g.apply(this,arguments)}),handleEdit:function(t,e){console.log(e),console.log("打印按钮被你点击啦！")},deriveData:function(){console.log("点击导出表格")}},u(r,"getProductsId",(f=d(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("http://canteen.tonglingok.com/api/v1/shop/supplierProducts/search");case 2:"ok"===(e=t.sent).msg&&(this.productOptions=Object(c.d)(Array.from(e.data)));case 4:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})),u(r,"remoteMethod",(m=d(o.a.mark((function t(e){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==e){t.next=9;break}return this.loading=!0,t.next=4,this.$axios({url:"http://canteen.tonglingok.com/api/v1/shop/supplierProducts/search?product=".concat(e),methods:"get",headers:{token:l.a.getters.token}});case 4:"ok"===(a=t.sent).data.msg&&(console.log(a.data.data),this.productOptions=Array.from(a.data.data)),this.loading=!1,t.next=11;break;case 9:return t.next=11,this.getProductsId();case 11:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})),r)},v=(a("ce56"),a("2877")),k=Object(v.a)(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"canteen-order"},[a("div",{staticClass:"nav-title"},[t._v("订单明细查询")]),a("el-divider"),a("div",{staticClass:"main clearfix"},[a("div",{staticClass:"main-header"},[a("el-form",{attrs:{model:t.queryform,inline:!0}},[a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd",type:"datetime"},model:{value:t.queryform.time_begin,callback:function(e){t.$set(t.queryform,"time_begin",e)},expression:"queryform.time_begin"}})],1),a("el-form-item",{attrs:{label:"结束时间"}},[a("el-date-picker",{staticStyle:{width:"200px"},attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd",type:"datetime"},model:{value:t.queryform.time_end,callback:function(e){t.$set(t.queryform,"time_end",e)},expression:"queryform.time_end"}})],1),a("el-form-item",{attrs:{label:"商品类型"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择商品类型"},on:{change:t.getProductsId},model:{value:t.queryform.category_id,callback:function(e){t.$set(t.queryform,"category_id",e)},expression:"queryform.category_id"}},t._l(t.categoryOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"商品名称"}},[a("el-select",{staticStyle:{width:"200px"},attrs:{remote:"",filterable:"","remote-method":t.remoteMethod,loading:t.loading,placeholder:"请选择商品名称"},model:{value:t.queryform.product_id,callback:function(e){t.$set(t.queryform,"product_id",e)},expression:"queryform.product_id"}},t._l(t.productOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-button",{attrs:{type:"primary"},on:{click:t.deriveData}},[t._v("导出")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.fetchList(1)}}},[t._v("查询")])],1)],1),a("div",{staticClass:"main-content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"50px"}}),a("el-table-column",{attrs:{label:"下单时间",prop:"create_time"}}),a("el-table-column",{attrs:{label:"类型",prop:"category"}}),a("el-table-column",{attrs:{label:"商品名称",prop:"product"}}),a("el-table-column",{attrs:{label:"商品数量",prop:"count"}}),a("el-table-column",{attrs:{label:"商品金额(元)",prop:"price"}})],1),a("pagination",{attrs:{total:t.total,currentPage:t.current_page,pageSize:t.size}})],1)])],1)])}),[],!1,null,null,null);e.default=k.exports},ce56:function(t,e,a){"use strict";var r=a("8a1c");a.n(r).a}}]);