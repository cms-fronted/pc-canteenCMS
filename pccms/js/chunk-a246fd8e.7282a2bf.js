(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a246fd8e"],{"0460":function(t,e,a){"use strict";var n=a("9218");a.n(n).a},"2f0c":function(t,e,a){"use strict";var n=a("7361");a.n(n).a},"333d":function(t,e,a){"use strict";var n={name:"Pagination",props:{small:{type:Boolean,default:!1},total:{required:!0,type:Number},page:{type:Number,default:1},background:{type:Boolean,default:!0},layout:{type:String,default:"prev, pager, next"},pageSize:{type:Number,default:10}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}}},methods:{handleClickPage:function(t){this.$emit("pagination",t)}}},i=(a("2f0c"),a("2877")),o=Object(i.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{small:t.small,background:t.background,total:t.total,layout:t.layout,"page-size":t.pageSize,"current-page":t.currentPage},on:{"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.handleClickPage}})],1)}),[],!1,null,null,null);e.a=o.exports},"3c43":function(t,e){e.endianness=function(){return"LE"},e.hostname=function(){return"undefined"!=typeof location?location.hostname:""},e.loadavg=function(){return[]},e.uptime=function(){return 0},e.freemem=function(){return Number.MAX_VALUE},e.totalmem=function(){return Number.MAX_VALUE},e.cpus=function(){return[]},e.type=function(){return"Browser"},e.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},e.networkInterfaces=e.getNetworkInterfaces=function(){return{}},e.arch=function(){return"javascript"},e.platform=function(){return"browser"},e.tmpdir=e.tmpDir=function(){return"/tmp"},e.EOL="\n",e.homedir=function(){return"/"}},7361:function(t,e,a){},"896b":function(t,e,a){"use strict";a.r(e);var n=a("365c"),i=a("333d"),o=a("575f"),r=a("4360");a("3c43");function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l={data:function(){return{grade:r.a.getters.grade,formdata:{name:"",phone:"",department_id:"",time_begin:"",time_end:"",dinner_id:"",company_ids:"",canteen_id:""},current_page:1,pageSize:10,total:0,value:"",tableData:[],companiesList:[],departmentList:[],locationList:[],dinnersList:[],company_id:"",isDisabled:!0}},created:function(){this.companiesVisible?this.getCompanies():this.getLocationList()},computed:{isAble:function(){return!!this.formdata.time_end&&!!this.formdata.time_begin},companiesVisible:function(){return 3!==this.grade}},watch:{isAble:function(t){this.isDisabled=!t}},methods:{getList:function(t){String(t).includes(",")?(this.departmentList=[{name:"全部"}],this.locationList=[{name:"全部"}],this.dinnersList=[],this.formdata.department_id="",this.formdata.canteen_id="",this.dinner_id=""):(this.getDepartmentList(t),this.getLocationList(t))},getCompanies:function(){var t=this;n.a.get("http://canteen.tonglingok.com/api/v1/admin/companies").then((function(e){var a=e.data,n=Object(o.b)(Object(o.a)(a));t.companiesList=n})).catch((function(t){return console.log(t)}))},getDepartmentList:function(t){var e=this;n.a.get("v1/departments?c_id=".concat(t)).then((function(t){var a=t.data,n=Object(o.d)(Object(o.a)(a));e.departmentList=n})).catch((function(t){return console.log(t)}))},getDinnersList:function(t){var e=this;t&&n.a.get("http://canteen.tonglingok.com/api/v1/canteen/dinners?canteen_id=".concat(t)).then((function(t){e.dinnersList=Object(o.d)(Array.from(t.data))})).catch((function(t){return console.log(t)}))},getLocationList:function(t){var e=this;t?n.a.get("http://canteen.tonglingok.com/api/v1/canteens?company_id=".concat(t)).then((function(t){e.locationList=Object(o.d)(Array.from(t.data))})).catch((function(t){return console.log(t)})):n.a.get("http://canteen.tonglingok.com/api/v1/managerCanteens").then((function(t){e.locationList=Object(o.d)(Array.from(t.data))})).catch((function(t){return console.log(t)}))},queryList:function(t){var e=this;console.log(t,c(t)),t="number"==typeof t?t:1;var a=this.pageSize,i=(this.sum,this.formdata),o=i.name,r=i.company_ids,l=i.time_end,s=i.time_begin,d=i.dinner_id,u=i.phone,m=i.canteen_id,p=i.department_id;n.a.get("v1/order/orderStatistic/detail?page=".concat(t,"&size=").concat(a),{name:o,company_ids:r,time_end:l,time_begin:s,dinner_id:d,phone:u,canteen_id:m,department_id:p}).then((function(t){e.tableData=Array.from(t.data.data),e.total=t.data.total,e.current_page=t.data.current_page})).catch((function(t){return console.log(t)}))}},components:{Pagination:i.a}},s=(a("0460"),a("2877")),d=Object(s.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-manage-details"},[a("div",{staticClass:"nav-title"},[t._v("订餐明细")]),a("el-divider"),a("div",{staticClass:"main"},[a("div",{staticClass:"main-header"},[a("div",{staticClass:"select-title"},[a("el-form",{attrs:{inline:!0,model:t.formdata,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"开始"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd",type:"datetime"},model:{value:t.formdata.time_begin,callback:function(e){t.$set(t.formdata,"time_begin",e)},expression:"formdata.time_begin"}})],1),a("el-form-item",{attrs:{label:"结束"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd",type:"datetime"},model:{value:t.formdata.time_end,callback:function(e){t.$set(t.formdata,"time_end",e)},expression:"formdata.time_end"}})],1),t.companiesVisible?a("el-form-item",{attrs:{label:"公司"}},[a("el-select",{attrs:{placeholder:"请选择公司"},on:{change:t.getList},model:{value:t.formdata.company_ids,callback:function(e){t.$set(t.formdata,"company_ids",e)},expression:"formdata.company_ids"}},t._l(t.companiesList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1):t._e(),a("el-form-item",{attrs:{label:"消费地点"}},[a("el-select",{attrs:{placeholder:"请选择饭堂"},on:{change:t.getDinnersList},model:{value:t.formdata.canteen_id,callback:function(e){t.$set(t.formdata,"canteen_id",e)},expression:"formdata.canteen_id"}},t._l(t.locationList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t.companiesVisible?a("el-form-item",{attrs:{label:"部门"}},[a("el-select",{attrs:{placeholder:"请选择部门"},model:{value:t.formdata.department_id,callback:function(e){t.$set(t.formdata,"department_id",e)},expression:"formdata.department_id"}},t._l(t.departmentList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1):t._e(),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:t.formdata.name,callback:function(e){t.$set(t.formdata,"name",e)},expression:"formdata.name"}})],1),a("el-form-item",{attrs:{label:"手机号码"}},[a("el-input",{attrs:{placeholder:"请输入手机号码"},model:{value:t.formdata.phone,callback:function(e){t.$set(t.formdata,"phone",e)},expression:"formdata.phone"}})],1),a("el-form-item",{attrs:{label:"餐次"}},[a("el-select",{attrs:{placeholder:"请选择部门"},model:{value:t.formdata.dinner_id,callback:function(e){t.$set(t.formdata,"dinner_id",e)},expression:"formdata.dinner_id"}},t._l(t.dinnersList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),a("div",{staticClass:"btn-area"},[a("el-button",{attrs:{type:"primary",disabled:t.isDisabled},on:{click:t.queryList}},[t._v("查询")]),a("el-button",{attrs:{type:"primary"}},[t._v("导出")])],1)]),a("div",{staticClass:"main-content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"ordering_date",label:"订餐日期"}}),a("el-table-column",{attrs:{prop:"canteen",label:"消费地点"}}),a("el-table-column",{attrs:{prop:"department",label:"部门"}}),a("el-table-column",{attrs:{prop:"username",label:"姓名"}}),a("el-table-column",{attrs:{prop:"dinner",label:"餐次"}})],1),a("pagination",{attrs:{total:t.total,currentPage:t.current_page},on:{pagination:t.queryList}})],1)])],1)}),[],!1,null,null,null);e.default=d.exports},9218:function(t,e,a){}}]);