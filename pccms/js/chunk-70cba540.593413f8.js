(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-70cba540"],{"2f0c":function(t,e,a){"use strict";var n=a("7361");a.n(n).a},"333d":function(t,e,a){"use strict";var n={name:"Pagination",props:{small:{type:Boolean,default:!1},total:{required:!0,type:Number},page:{type:Number,default:1},background:{type:Boolean,default:!0},layout:{type:String,default:"prev, pager, next"},pageSize:{type:Number,default:10}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}}},methods:{handleClickPage:function(t){this.$emit("pagination",t)}}},r=(a("2f0c"),a("2877")),i=Object(r.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{small:t.small,background:t.background,total:t.total,layout:t.layout,"page-size":t.pageSize,"current-page":t.currentPage},on:{"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.handleClickPage}})],1)}),[],!1,null,null,null);e.a=i.exports},7361:function(t,e,a){},"8b6c":function(t,e,a){"use strict";a.r(e);var n=a("a34a"),r=a.n(n),i=a("365c"),o=a("575f");function s(t,e,a,n,r,i,o){try{var s=t[i](o),c=s.value}catch(t){return void a(t)}s.done?e(c):Promise.resolve(c).then(n,r)}function c(t){return function(){var e=this,a=arguments;return new Promise((function(n,r){var i=t.apply(e,a);function o(t){s(i,n,r,o,c,"next",t)}function c(t){s(i,n,r,o,c,"throw",t)}o(void 0)}))}}var l,u,p,g={components:{Pagination:a("333d").a},data:function(){return{queryForm:{supplier_id:"",category_id:""},categoryOptions:[],supplierOptions:[],tableData:[],size:10,total:0,current_page:1}},created:function(){this.getCategoryList(),this.getSupplierList()},methods:{getCategoryList:(p=c(r.a.mark((function t(e){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("http://canteen.tonglingok.com/api/v1/company/categories");case 2:"ok"===(a=t.sent).msg&&(this.categoryOptions=Object(o.d)(Array.from(a.data)));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)}),getSupplierList:(u=c(r.a.mark((function t(){var e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("http://canteen.tonglingok.com/api/v1/company/suppliers");case 2:"ok"===(e=t.sent).msg&&(this.supplierOptions=Object(o.d)(Array.from(e.data)));case 4:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)}),queryList:(l=c(r.a.mark((function t(e){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=e||1,t.next=3,i.a.get("http://canteen.tonglingok.com/api/v1/shop/cms/products?page=".concat(e,"&size=").concat(this.size),this.queryForm);case 3:"ok"===(a=t.sent).msg&&(this.tableData=Array.from(a.data.data),this.total=a.data.total,this.current_page=a.data.current_page);case 5:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})}},d=a("2877"),m=Object(d.a)(g,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"good-search"},[a("div",{staticClass:"nav-title"},[t._v("商品查询")]),a("el-divider"),a("div",{staticClass:"main"},[a("div",{staticClass:"main-header"},[a("el-form",{ref:"queryForm",attrs:{inline:!0,model:t.queryForm}},[a("el-form-item",{attrs:{label:"供应商"}},[a("el-select",{model:{value:t.queryForm.supplier_id,callback:function(e){t.$set(t.queryForm,"supplier_id",e)},expression:"queryForm.supplier_id"}},t._l(t.supplierOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"类型"}},[a("el-select",{model:{value:t.queryForm.category_id,callback:function(e){t.$set(t.queryForm,"category_id",e)},expression:"queryForm.category_id"}},t._l(t.categoryOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.queryList(1)}}},[t._v("查询")])],1)],1),a("div",{staticClass:"main-content"},[a("el-table",{attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"照片"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{"text-align":"center"}},[a("img",{staticStyle:{height:"100px"},attrs:{src:t.row.image,alt:t.row.name,srcset:""}})])]}}])}),a("el-table-column",{attrs:{label:"名称",prop:"name"}}),a("el-table-column",{attrs:{label:"类型",prop:"category"}}),a("el-table-column",{attrs:{label:"单位",prop:"unit"}}),a("el-table-column",{attrs:{label:"单价",prop:"price"}}),a("el-table-column",{attrs:{label:"库存量",prop:"stock"}}),a("el-table-column",{attrs:{label:"供应商",prop:"supplier"}})],1),a("pagination",{attrs:{total:t.total,pageSize:t.size,currentPage:t.current_page},on:{pagination:t.queryList}})],1)])],1)}),[],!1,null,"1ac4c550",null);e.default=m.exports}}]);